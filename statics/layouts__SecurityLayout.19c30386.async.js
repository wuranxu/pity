(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{L9NX:function(R,d,_){"use strict";_.r(d);var O=_("6f/q"),b=_("l+43"),h=_("tC4A"),M=_("242a"),D=_("6hnJ"),p=_("CVGW"),m=_.n(p),P=_("T9Mk"),v=_.n(P),f=_("kYUu"),g=_("q5+0"),y=_("9kvl"),E=_("XuRK"),U=_.n(E),l=_("ikfJ"),j=_.n(l),W=function(o){Object(M.a)(n,o);var s=Object(D.a)(n);function n(){var a;Object(b.a)(this,n);for(var u=arguments.length,r=new Array(u),e=0;e<u;e++)r[e]=arguments[e];return a=s.call.apply(s,[this].concat(r)),a.state={isReady:!1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var a=Object(O.a)(m.a.mark(function r(){var e,i;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({isReady:!0}),e=this.props.dispatch,!(window.location.href.indexOf("?user_code=")>-1)){t.next=8;break}return i=window.location.href.split("?user_code=")[1],t.next=6,e({type:"user/getGithubToken",payload:{code:i}});case 6:t.next=9;break;case 8:e&&e({type:"user/fetchCurrent"});case 9:case"end":return t.stop()}},r,this)}));function u(){return a.apply(this,arguments)}return u}()},{key:"render",value:function(){var u=this.state.isReady,r=this.props,e=r.children,i=r.loading,c=r.currentUser,t=c&&c.id,C=Object(E.stringify)({redirect:window.location.href});return!t&&i||!u?Object(l.jsx)(f.a,{}):!t&&window.location.pathname!=="/user/login"?Object(l.jsx)(g.a,{to:"/user/login?".concat(C)}):e}}]),n}(v.a.Component);d.default=Object(y.c)(function(o){var s=o.user,n=o.loading;return{currentUser:s.currentUser,loading:n.models.user}})(W)}}]);
